ФСТР заказала студентам SkillFactory разработать мобильное приложение для Android и IOS, которое упростило бы туристам задачу по отправке данных о перевале и сократило время обработки запроса до трёх дней.
Пользоваться мобильным приложением будут туристы. В горах они будут вносить данные о перевале в приложение и отправлять их в ФСТР, как только появится доступ в Интернет.
Модератор из федерации будет верифицировать и вносить в базу данных информацию, полученную от пользователей, а те в свою очередь смогут увидеть в мобильном приложении статус модерации и просматривать базу с объектами, внесёнными другими.
<br><br>
Цель проекта: разработка REST API, которое будет обслуживать мобильное приложение.

##### Краткое изложение принципа работы приложения.
Турист на перевале фотографирует его и вносит следующую информацию с помощью мобильного приложения:
- название объекта и его принадлежность;
- координаты объекта и его высоту;
- сложность объекта, по каждому сезону;
- несколько фотографий;
- информация о пользователе, который передал данные о перевале:
  - имя пользователя (ФИО);
  - почта;
  - телефон.

При отправке мобильное приложение вызывает метод submitData REST API.

##### Описание методов API
Метод 
```sh
POST /submitData/ 
```
принимает JSON в теле запроса с информацией о перевале. 
Пример JSON-а:
``` sh
{
    "beauty_title": "пер.",
    "title": "Дятлова",
    "other_titles": "Дятлова",
    "connect": "0",
    "add_time": "2023-02-17 00:00:00",
    "user": {
        "email": "petr@petrov.com",
        "fam": "Петров",
        "name": "Петр",
        "otc": "Петрович",
        "phone": "+7 456 123-45-67"
    },
    "coords": {
        "latitude": "55.45",
        "longitude": "37.37",
        "height": "2500"
    },
    "level": {
        "winter": "2С",
        "summer": "1А*",
        "autumn": "1А",
        "spring": "2С*"
    },
    "images": [
        {
            "data": "<картинка1>",
            "title": "Основание"
        },
        {
            "data": "<картинка>",
            "title": "Седло"
        },
        {
            "data": "<картинка2>",
            "title": "Обрыв"
        }
    ]
}

```
Результатом выполнения метода является JSON-ответ содержащий следующие данные:
``` sh
'status' — код HTTP, целое число:
	500 — ошибка при выполнении операции;
	400 — Bad Request (при нехватке полей);
	200 — успех.
'message' — строка:
	Причина ошибки (если она была);
	Отправлено успешно;
	Если отправка успешна, дополнительно возвращается id вставленной записи.
'id' — идентификатор, который был присвоен объекту при добавлении в базу данных.
```

Примеры ответов:
``` sh
{ "status": 500, "message": "Ошибка подключения к базе данных","id": null}
{ "status": 200, "message": null, "id": 42 }
```
После того, как турист с помощью мобильного приложения в БД информацию о новом перевале, сотрудники ФСТР проведут модерацию для каждого нового объекта и поменяют поле status. 
```
Допустимые значения поля status:
	'new';
	'pending' — если модератор взял в работу;
	'accepted' — модерация прошла успешно;
	'rejected' — модерация прошла, информация не принята.
```
При добавлении новой строки в таблицу с перевалами значение поля status равно new.

В приложении также реализованы следующие методы:
``` sh
GET /submitData/<id>
```
Получает одну запись (перевал) по её id с выведением всей информацию об перевале, в том числе статус модерации.

```sh
PATCH /submitData/<id>
```
Позволяет отредактировать существующую запись (замена), при условии что она в статусе "new". 
При этом редактировать можно все поля, кроме тех, что содержат ФИО, адрес почты и номер телефона. В качестве результата изменения приходит ответ содержащий следующие данные: 
- state:
	- 1 — если успешно удалось отредактировать запись в базе данных.
	- 0 — в отредактировать запись не удалось.
- message: сообщение о причине неудачного обновления записи.

```sh
GET /submitData/?user_id__email=<email>
```
Метод позволяющий получить данные всех объектов, отправленных на сервер пользователем с почтой <email>.

